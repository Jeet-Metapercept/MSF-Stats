<!DOCTYPE html>
<html>
	<head>
		<title>Blitz statistics | amCharts</title>
		<meta name="description" content="chart created using amCharts live editor" />
		<meta name="viewport" content="width=device-width, initial-scale=1.0"> 
		<meta content="text/html;charset=utf-8" http-equiv="Content-Type">
		<meta content="utf-8" http-equiv="encoding">
		
		<!-- amCharts javascript sources -->
		<script type="text/javascript" src="scripts/amcharts.js"></script>
		<script type="text/javascript" src="scripts/serial.js"></script>
		<script type="text/javascript" src="scripts/light.js"></script>
		<script type="text/javascript" src="scripts/download2.js"></script>
		<script type="text/javascript" src="scripts/moment.min.js"></script>
		<link href="https://fonts.googleapis.com/css?family=Cabin+Condensed" rel="stylesheet">
		<link href="scripts/BlitzStats.css" rel="stylesheet">
	
		
		<!-- amCharts javascript code -->
		<script type="text/javascript">
		moment.updateLocale('en', {
			relativeTime: {
			  future: 'in %s',
			  past: '%s ago',
			  s:  'seconds',
			  ss: '%ss',
			  m:  'a minute',
			  mm: '%dm',
			  h:  '1 hr',
			  hh: '%dh',
			  d:  'a day',
			  dd: '%dd',
			  M:  'a month',
			  MM: '%dM',
			  y:  'a year',
			  yy: '%dY'
			}
		  });
		  
		
			//https://msf.gg/my-teams
		var upgradeTime = 6500;	 //2hrs 7200		
		
		 // Team 1
		 var Team_1 = "W L";	Team_1_time = 1549150418; 		
		 
		 // Team 2
		 var Team_2 = "W L"; 	Team_2_time = 1549150418; 	
		 
		 // Team 3
		 var Team_3 = "W L";	Team_3_time = 1549150418; 	
		
		 // Team 4
		 var Team_4 = "W L"; 	Team_4_time = 1549150418; 		
		 
		 // Team 5
 		 var Team_5 = "W L"; 	Team_5_time = 1549150418; 	
		 
		 // Team 6
 		 var Team_6 = "W L";	Team_6_time = 1549150418; 	
		 
		 // Team 7
 		 var Team_7 = "W L"; 	Team_7_time = 1549150418; 	
		 
		 // Team 8
 		 var Team_8= "W L"; 	Team_8_time = 1549150418; 	
		 
		 // Team 9
 		 var Team_9 = "W L"; 	Team_9_time = 1549150418; 	
		 
		 // Team 10
 		 var Team_10 = "W L";	Team_10_time = 1549150418; 	
		 
		 // Team 11
 		 var Team_11 = "W L"; 	Team_11_time = 1549150418; 	
		
		// Put the object into storage
		if (localStorage.Team_1 === undefined) {
			localStorage.setItem('Team_1', Team_1);
		}
		if (localStorage.Team_2 === undefined) {
			localStorage.setItem('Team_2', Team_2);
		}
		if (localStorage.Team_3 === undefined) {
			localStorage.setItem('Team_3', Team_3);
		}
		if (localStorage.Team_4 === undefined) {
			localStorage.setItem('Team_4', Team_4);
		}
		if (localStorage.Team_5 === undefined) {
			localStorage.setItem('Team_5', Team_5);
		}
		if (localStorage.Team_6 === undefined) {
			localStorage.setItem('Team_6', Team_6);
		}
		if (localStorage.Team_7 === undefined) {
			localStorage.setItem('Team_7', Team_7);
		}
		if (localStorage.Team_8 === undefined) {
			localStorage.setItem('Team_8', Team_8);
		}
		if (localStorage.Team_9 === undefined) {
			localStorage.setItem('Team_9', Team_9);
		}
		if (localStorage.Team_10 === undefined) {
			localStorage.setItem('Team_10', Team_10);
		}
		if (localStorage.Team_11 === undefined) {
			localStorage.setItem('Team_11', Team_11);
		}
		
		// Put the Times into storage
		if (localStorage.Team_1_time === undefined) {
			localStorage.setItem('Team_1_time', Team_1_time);
		}
		if (localStorage.Team_2_time === undefined) {
			localStorage.setItem('Team_2_time', Team_2_time);
		}
		if (localStorage.Team_3_time === undefined) {
			localStorage.setItem('Team_3_time', Team_3_time);
		}
		if (localStorage.Team_4_time === undefined) {
			localStorage.setItem('Team_4_time', Team_4_time);
		}
		if (localStorage.Team_5_time === undefined) {
			localStorage.setItem('Team_5_time', Team_5_time);
		}
		if (localStorage.Team_6_time === undefined) {
			localStorage.setItem('Team_6_time', Team_6_time);
		}
		if (localStorage.Team_7_time === undefined) {
			localStorage.setItem('Team_7_time', Team_7_time);
		}
		if (localStorage.Team_8_time === undefined) {
			localStorage.setItem('Team_8_time', Team_8_time);
		}
		if (localStorage.Team_9_time === undefined) {
			localStorage.setItem('Team_9_time', Team_9_time);
		}
		if (localStorage.Team_10_time === undefined) {
			localStorage.setItem('Team_10_time', Team_10_time);
		}
		if (localStorage.Team_11_time === undefined) {
			localStorage.setItem('Team_11_time', Team_11_time);
		}
	
		
		// Retrieve the object from storage
		var retrieved_Team1_Results = localStorage.getItem('Team_1');
		Team_1 = retrieved_Team1_Results;
		
		var retrieved_Team2_Results = localStorage.getItem('Team_2');
		Team_2 = retrieved_Team2_Results;
		
		var retrieved_Team3_Results = localStorage.getItem('Team_3');
		Team_3 = retrieved_Team3_Results;
		
		var retrieved_Team4_Results = localStorage.getItem('Team_4');
		Team_4 = retrieved_Team4_Results;
		
		var retrieved_Team5_Results = localStorage.getItem('Team_5');
		Team_5 = retrieved_Team5_Results;
		
		var retrieved_Team6_Results = localStorage.getItem('Team_6');
		Team_6 = retrieved_Team6_Results;
		
		var retrieved_Team7_Results = localStorage.getItem('Team_7');
		Team_7 = retrieved_Team7_Results;
		
		var retrieved_Team8_Results = localStorage.getItem('Team_8');
		Team_8 = retrieved_Team8_Results;
		
		var retrieved_Team9_Results = localStorage.getItem('Team_9');
		Team_9 = retrieved_Team9_Results;
		
		var retrieved_Team10_Results = localStorage.getItem('Team_10');
		Team_10 = retrieved_Team10_Results;
		
		var retrieved_Team11_Results = localStorage.getItem('Team_11');
		Team_11 = retrieved_Team11_Results;
		
		
		// Put the alltime data  into storage
		if (localStorage.Team_1_alltime === undefined) {
			localStorage.setItem('Team_1_alltime', 'W L');
		}
		if (localStorage.Team_2_alltime === undefined) {
			localStorage.setItem('Team_2_alltime', 'W L');
		}
		if (localStorage.Team_3_alltime === undefined) {
			localStorage.setItem('Team_3_alltime', 'W L');
		}
		if (localStorage.Team_4_alltime === undefined) {
			localStorage.setItem('Team_4_alltime', 'W L');
		}
		if (localStorage.Team_5_alltime === undefined) {
			localStorage.setItem('Team_5_alltime', 'W L');
		}
		if (localStorage.Team_6_alltime === undefined) {
			localStorage.setItem('Team_6_alltime', 'W L');
		}
		if (localStorage.Team_7_alltime === undefined) {
			localStorage.setItem('Team_7_alltime', 'W L');
		}
		if (localStorage.Team_8_alltime === undefined) {
			localStorage.setItem('Team_8_alltime', 'W L');
		}
		if (localStorage.Team_9_alltime === undefined) {
			localStorage.setItem('Team_9_alltime', 'W L');
		}
		if (localStorage.Team_10_alltime === undefined) {
			localStorage.setItem('Team_10_alltime', 'W L');
		}
		if (localStorage.Team_11_alltime === undefined) {
			localStorage.setItem('Team_11_alltime', 'W L');
		}
		
		
		var Team_1_alltime = localStorage.getItem('Team_1_alltime');
		var Team_2_alltime = localStorage.getItem('Team_2_alltime');
		var Team_3_alltime = localStorage.getItem('Team_3_alltime');
		var Team_4_alltime = localStorage.getItem('Team_4_alltime');
		var Team_5_alltime = localStorage.getItem('Team_5_alltime');
		var Team_6_alltime = localStorage.getItem('Team_6_alltime');
		var Team_7_alltime = localStorage.getItem('Team_7_alltime');
		var Team_8_alltime = localStorage.getItem('Team_8_alltime');
		var Team_9_alltime = localStorage.getItem('Team_9_alltime');
		var Team_10_alltime = localStorage.getItem('Team_10_alltime');
		var Team_11_alltime = localStorage.getItem('Team_11_alltime');
		
							
		//Read NewBlitz.txt
		function readNewBlitzFile(fileso){
					var LastBlitzFile = new XMLHttpRequest();
					
					LastBlitzFile.open("GET", fileso, true);
					LastBlitzFile.setRequestHeader('Content-Type', 'text; charset=UTF-8');
					LastBlitzFile.onreadystatechange = function ()
					{
						if(LastBlitzFile.readyState === 4)
						{
							if(LastBlitzFile.status === 200 || LastBlitzFile.status == 0)
							{
								var newBlitz = LastBlitzFile.responseText;

								if( newBlitz === 'True'){		
								
								//Resetting for new blitz
									localStorage.setItem('Team_1', 'W L');
									localStorage.setItem('Team_2', 'W L');
									localStorage.setItem('Team_3', 'W L');
									localStorage.setItem('Team_4', 'W L');
									localStorage.setItem('Team_5', 'W L');
									localStorage.setItem('Team_6', 'W L');
									localStorage.setItem('Team_7', 'W L');
									localStorage.setItem('Team_8', 'W L');
									localStorage.setItem('Team_9', 'W L');
									localStorage.setItem('Team_10', 'W L');
									localStorage.setItem('Team_11', 'W L');
								}
								
							}
						}
					}
					LastBlitzFile.send(null);
			}
			readNewBlitzFile("NewBlitz.txt");
			
		
	
		
		// Retrieve the Times object from storage
		var retrieved_Team1_Time = localStorage.getItem('Team_1_time');
		Team_1_time = retrieved_Team1_Time ;
		
		var retrieved_Team2_Time = localStorage.getItem('Team_2_time');
		Team_2_time = retrieved_Team2_Time ;
		
		var retrieved_Team3_Time = localStorage.getItem('Team_3_time');
		Team_3_time = retrieved_Team3_Time;
		
		var retrieved_Team4_Time = localStorage.getItem('Team_4_time');
		Team_4_time = retrieved_Team4_Time; 
		
		var retrieved_Team5_Time = localStorage.getItem('Team_5_time');
		Team_5_time = retrieved_Team5_Time; 
		
		var retrieved_Team6_Time = localStorage.getItem('Team_6_time');
		Team_6_time = retrieved_Team6_Time; 
		
		var retrieved_Team7_Time = localStorage.getItem('Team_7_time');
		Team_7_time = retrieved_Team7_Time; 
		
		var retrieved_Team8_Time = localStorage.getItem('Team_8_time');
		Team_8_time = retrieved_Team8_Time; 
		
		var retrieved_Team9_Time = localStorage.getItem('Team_9_time');
		Team_9_time = retrieved_Team9_Time; 
		
		var retrieved_Team10_Time = localStorage.getItem('Team_10_time');
		Team_10_time = retrieved_Team10_Time; 
		
		var retrieved_Team11_Time = localStorage.getItem('Team_11_time');
		Team_11_time = retrieved_Team11_Time; 
		//console.log("team 11 last time --- "+Team_11_time);
		

		////Graph work
			var Team1 = Team_1.match(/W/gi).length;
			var Team2 = Team_2.match(/W/gi).length;  		
			var Team3 = Team_3.match(/W/gi).length;
			var Team4 = Team_4.match(/W/gi).length;	
			var Team5 = Team_5.match(/W/gi).length;	
			var Team6 = Team_6.match(/W/gi).length;	
			var Team7 = Team_7.match(/W/gi).length;	
			var Team8 = Team_8.match(/W/gi).length;	
			var Team9 = Team_9.match(/W/gi).length;	
			var Team10 = Team_10.match(/W/gi).length;	
			var Team11 = Team_11.match(/W/gi).length;	
	
			
			
			
		</script>
		
		<!-- Getting Updated Stats -->
		<script type="text/javascript">
		
					
			//Overall Statcounter 
			
			var BlitzTotalBattlesWon = Team_1_alltime.match(/W/gi).length + Team_2_alltime.match(/W/gi).length + Team_3_alltime.match(/W/gi).length + Team_4_alltime.match(/W/gi).length+Team_5_alltime.match(/W/gi).length+Team_6_alltime.match(/W/gi).length+Team_7_alltime.match(/W/gi).length+Team_8_alltime.match(/W/gi).length+Team_9_alltime.match(/W/gi).length+Team_10_alltime.match(/W/gi).length+Team_11_alltime.match(/W/gi).length;
				if (localStorage.BlitzTotalBattlesWon === undefined) {
					localStorage.setItem('BlitzTotalBattlesWon', 0);
				}
			var BlitzTotalBattlesLost = Team_1_alltime.match(/L/gi).length + Team_2_alltime.match(/L/gi).length + Team_3_alltime.match(/L/gi).length + Team_4_alltime.match(/L/gi).length+Team_5_alltime.match(/L/gi).length+Team_6_alltime.match(/L/gi).length+Team_7_alltime.match(/L/gi).length+Team_8_alltime.match(/L/gi).length+Team_9_alltime.match(/L/gi).length+Team_10_alltime.match(/L/gi).length+Team_11_alltime.match(/L/gi).length;
				if (localStorage.BlitzTotalBattlesLost === undefined) {
					localStorage.setItem('BlitzTotalBattlesLost', 0);
				}
			
			var BlitzTotalBattles = parseInt(BlitzTotalBattlesLost) + parseInt(BlitzTotalBattlesWon); 
				if (localStorage.BlitzTotalBattles === undefined) {
					localStorage.setItem('BlitzTotalBattles', 0);
				}	
				
			var BlitzBattleRatio = ((BlitzTotalBattlesWon*100)/BlitzTotalBattles).toFixed(2);
			
			localStorage.setItem('BlitzTotalBattles', BlitzTotalBattles);
			localStorage.setItem('BlitzTotalBattlesWon', BlitzTotalBattlesWon);
			localStorage.setItem('BlitzTotalBattlesLost', BlitzTotalBattlesLost);
			
			
			setTimeout(function(){ 
				var blitzTotalcontent = document.getElementById("totalblitz");
				blitzTotalcontent.innerHTML = BlitzTotalBattles;

				var blitzRate = document.getElementById("wr");
				blitzRate.innerHTML = BlitzBattleRatio + " <span style='font-size:1rem'>%</span>";
				
				var blitzResults = document.getElementById("wl");
				blitzResults.innerHTML =  " W " + BlitzTotalBattlesWon + " , L " + BlitzTotalBattlesLost;		
			}, 2000);
			

		
		//Current wins/losses this Blitz
			var CurrentBattlesWon = (Team1+Team2+Team3+Team4+Team5+Team6+Team7+Team8+Team9+Team10+Team11); //1free wins at start
			localStorage.setItem('CurrentBattlesWon', CurrentBattlesWon);
			
			var CurrentBattlesLost = Team_1.match(/L/gi).length + Team_2.match(/L/gi).length + Team_3.match(/L/gi).length + Team_4.match(/L/gi).length+						  Team_5.match(/L/gi).length+Team_6.match(/L/gi).length+Team_7.match(/L/gi).length+Team_8.match(/L/gi).length+	   					 Team_9.match(/L/gi).length+Team_10.match(/L/gi).length+Team_11.match(/L/gi).length;
			localStorage.setItem('CurrentBattlesLost', CurrentBattlesLost);
			
			var CurrentBattlesBlitz = CurrentBattlesWon + CurrentBattlesLost;
			localStorage.setItem('CurrentBattlesBlitz', CurrentBattlesBlitz);
			
			var TotalBattlesBlitzRate = ((CurrentBattlesWon*100)/CurrentBattlesBlitz).toFixed(2);
			
		
		var retrieved_LastBlitz = localStorage.getItem('LastBlitz');
		var LastBlitzNumber = retrieved_LastBlitz; 
		console.log(LastBlitzNumber);
		
		
		function readLastBlitzFile(files){
		
		
					var LastBlitzFile = new XMLHttpRequest();
					
					LastBlitzFile.open("GET", files, true);
					LastBlitzFile.setRequestHeader('Content-Type', 'text; charset=UTF-8');
					LastBlitzFile.onreadystatechange = function ()
					{
						if(LastBlitzFile.readyState === 4)
						{
							if(LastBlitzFile.status === 200 || LastBlitzFile.status == 0)
							{
								var allTexts = LastBlitzFile.responseText;
								//console.log(files + '         ' +allTexts); //Current Blitz Time
								var myDate = new Date(allTexts).getTime(); //1440516958;
								
								var CurrentBlitzNumber = myDate; 
								//console.log('current ->>  '+CurrentBlitzNumber);
								console.log(CurrentBlitzNumber);
								//if(CurrentBlitzNumber>LastBlitzNumber){console.log(true);};
								//console.log();
								
								//Blitz Time Stamp
								
								document.getElementById("stamp").innerHTML = new Date(allTexts).toLocaleTimeString(navigator.language, {hour: '2-digit', minute:'2-digit'}) + "  ";
								
								//Next Blitz timer
								var d1 = new Date(); //"now"
								var d2 = new Date(allTexts); // some date
								var diff = moment.utc(moment(d1,"DD/MM/YYYY HH:mm:ss").diff(moment(d2,"DD/MM/YYYY HH:mm:ss"))).format("HH:mm:ss");  // difference in milliseconds
								var diffSec = moment.duration(diff).asSeconds()
								//console.log(moment.duration(diff).asSeconds());

								var count = 7200 - parseInt(diffSec);
								var counter = setInterval(timer, 1000); //1000 will  run it every 1 second

								function timer() {
									count = count - 1;
									if (count == -1) {
										clearInterval(counter);
										return;
									}

									var seconds = count % 60;
									var minutes = Math.floor(count / 60);
									var hours = Math.floor(minutes / 60);
									minutes %= 60;
									hours %= 60;

									document.getElementById("timer").innerHTML = hours + ": " + minutes + ": " + seconds; // watch for spelling
								}
								
								if(CurrentBlitzNumber > LastBlitzNumber){
									console.log("New Data.");//true
					
									document.getElementById("new").innerHTML = " New!";
									
									//Export as image
									setTimeout(function(){ 
										localStorage.setItem('LastBlitz', CurrentBlitzNumber);
										
										if (localStorage.LastBlitz === undefined) {
											localStorage.setItem('LastBlitz', CurrentBlitzNumber);
										}
										download(document.body.outerHTML, "BlitzBotResults.htm", "text/html");
									}, 5000);
								}
								else{
									console.log("Previous Data.");//false
								}
								
								
							}
						}
					}
					LastBlitzFile.send(null);
		}
		readLastBlitzFile("LastBlitz.txt");
	
			
		//timer 

		//Saving Teams Results
		function readTextFile(file)
				{
					var rawFile = new XMLHttpRequest();
					
					rawFile.open("GET", file, true);
					rawFile.setRequestHeader('Content-Type', 'text; charset=UTF-8');
					rawFile.onreadystatechange = function ()
					{
						if(rawFile.readyState === 4)
						{
							if(rawFile.status === 200 || rawFile.status == 0)
							{
								var allText = rawFile.responseText;
								var valueCheck = parseInt(allText);
								//console.log(file + '         ' +allText + "adn" + ());
								
								if(valueCheck == 1){
									var match_result = 'W';
								}else{
									var match_result = 'L';
								}

								if(file == 'Team1.txt'){
										Team_1 = retrieved_Team1_Results + " " + match_result;
										localStorage.setItem('Team_1', Team_1);
										localStorage.setItem('Team_1_alltime', Team_1_alltime + " " + match_result);
										//alert(allText + "asd" + Team_1);											
								}
								if(file == 'Team2.txt'){
								
										Team_2 = retrieved_Team2_Results + " " + match_result;
										localStorage.setItem('Team_2', Team_2);
										localStorage.setItem('Team_2_alltime', Team_2_alltime + " " + match_result);
										//alert(match_result);
								}
								if(file == 'Team3.txt'){
										Team_3 = retrieved_Team3_Results + " " + match_result;
										localStorage.setItem('Team_3', Team_3);
										localStorage.setItem('Team_3_alltime', Team_3_alltime + " " + match_result);
								}
								if(file == 'Team4.txt'){
									
										Team_4 = retrieved_Team4_Results + " " + match_result;
										localStorage.setItem('Team_4', Team_4);
										localStorage.setItem('Team_4_alltime', Team_4_alltime + " " + match_result);
										
								}
								if(file == 'Team5.txt'){
										Team_5 = retrieved_Team5_Results + " " + match_result;
										localStorage.setItem('Team_5', Team_5);
										localStorage.setItem('Team_5_alltime', Team_5_alltime + " " + match_result);
		
								}
								if(file == 'Team6.txt'){
									
										Team_6 = retrieved_Team6_Results + " " + match_result;
										localStorage.setItem('Team_6', Team_6);
										localStorage.setItem('Team_6_alltime', Team_6_alltime + " " + match_result);
									
								}
								if(file == 'Team7.txt'){
									
										Team_7 = retrieved_Team7_Results + " " + match_result;
										localStorage.setItem('Team_7', Team_7);
										localStorage.setItem('Team_7_alltime', Team_7_alltime + " " + match_result);
								}
								if(file == 'Team8.txt'){
									
										Team_8 = retrieved_Team8_Results + " " + match_result;
										localStorage.setItem('Team_8', Team_8);
										localStorage.setItem('Team_8_alltime', Team_8_alltime + " " + match_result);
									
								}
								if(file == 'Team9.txt'){
									
										Team_9 = retrieved_Team9_Results + " " + match_result;
										localStorage.setItem('Team_9', Team_9);
										localStorage.setItem('Team_9_alltime', Team_9_alltime + " " + match_result);
								
										
								}
								if(file == 'Team10.txt'){
									
										Team_10 = retrieved_Team10_Results + " " + match_result;
										localStorage.setItem('Team_10', Team_10);
										localStorage.setItem('Team_10_alltime', Team_10_alltime + " " + match_result);
									
								}
								if(file == 'Team11.txt'){
									
										Team_11 = retrieved_Team11_Results + " " + match_result;
										localStorage.setItem('Team_11', Team_11);
										localStorage.setItem('Team_11_alltime', Team_11_alltime + " " + match_result);
										
								}
								
							}
						}
					}
					rawFile.send(null);
				}
				
			//Saving Teams Times
				function readTimesTextFile(sfile)
				{
					var rawFile = new XMLHttpRequest();
					
					rawFile.open("GET", sfile, true);
					rawFile.setRequestHeader('Content-Type', 'text; charset=UTF-8');
					rawFile.onreadystatechange = function ()
					{
						if(rawFile.readyState === 4)
						{
							if(rawFile.status === 200 || rawFile.status == 0)
							{
								var allTimes = rawFile.responseText;
								//console.log(sfile + '         ' +allTimes);

								if(sfile == 'Team1LastBlitz.txt'){
									
									var t1 = new Date(allTimes).getTime() / 1000; 
									//console.log(Team_1_time + 't1 imte');
									if(t1 > Team_1_time){
									
										localStorage.setItem('Team_1_time', t1);
										readTextFile("Team1.txt");
									}
								}
								if(sfile == 'Team2LastBlitz.txt'){
									var t2 = new Date(allTimes).getTime() / 1000; 
									if(t2 > Team_2_time){
										localStorage.setItem('Team_2_time', t2);
										readTextFile("Team2.txt");
									}
								}
								if(sfile == 'Team3LastBlitz.txt'){
									var t3 = new Date(allTimes).getTime() / 1000; 
									if(t3 > Team_3_time){
										localStorage.setItem('Team_3_time', t3);
										readTextFile("Team3.txt");
									}
								}
								if(sfile == 'Team4LastBlitz.txt'){
									var t4 = new Date(allTimes).getTime() / 1000; 
									if(t4 > Team_4_time){
										localStorage.setItem('Team_4_time', t4);
										readTextFile("Team4.txt");
									}
								}
								if(sfile == 'Team5LastBlitz.txt'){
									var t5 = new Date(allTimes).getTime() / 1000; 
									if(t5 > Team_5_time){
										localStorage.setItem('Team_5_time', t5);
										readTextFile("Team5.txt");
									}
								}
								if(sfile == 'Team6LastBlitz.txt'){
									var t6 = new Date(allTimes).getTime() / 1000; 
									if(t6 > Team_6_time){
										localStorage.setItem('Team_6_time', t6);
										readTextFile("Team6.txt");
									}
								}
								if(sfile == 'Team7LastBlitz.txt'){
									var t7 = new Date(allTimes).getTime() / 1000;
									if(t7 > Team_7_time){
										localStorage.setItem('Team_7_time', t7);
										readTextFile("Team7.txt");
									}
								}
								if(sfile == 'Team8LastBlitz.txt'){
									var t8 = new Date(allTimes).getTime() / 1000; 
									if(t8 > Team_8_time){
										localStorage.setItem('Team_8_time', t8);
										readTextFile("Team8.txt");
									}
								}
								if(sfile == 'Team9LastBlitz.txt'){
									var t9 = new Date(allTimes).getTime() / 1000; 
									if(t9 > Team_9_time){
										localStorage.setItem('Team_9_time', t9);
										readTextFile("Team9.txt");
									}
								}
								if(sfile == 'Team10LastBlitz.txt'){
									var t10 = new Date(allTimes).getTime() / 1000; 
									if(t10 > Team_10_time){
										localStorage.setItem('Team_10_time', t10);
										readTextFile("Team10.txt");
									}
								}
								if(sfile == 'Team11LastBlitz.txt'){
									var t11 = new Date(allTimes).getTime() / 1000; 
									if(t11 > Team_11_time){
										localStorage.setItem('Team_11_time', t11);
										readTextFile("Team11.txt");
									}
								}
							}
						}
					}
					rawFile.send(null);
				}
			setTimeout(function(){ 
				readTimesTextFile("Team1LastBlitz.txt");
			    readTimesTextFile("Team2LastBlitz.txt");
				readTimesTextFile("Team3LastBlitz.txt");
				readTimesTextFile("Team4LastBlitz.txt");
				readTimesTextFile("Team5LastBlitz.txt");
				readTimesTextFile("Team6LastBlitz.txt");
				readTimesTextFile("Team7LastBlitz.txt");
				readTimesTextFile("Team8LastBlitz.txt");
				readTimesTextFile("Team9LastBlitz.txt");
				readTimesTextFile("Team10LastBlitz.txt");
				readTimesTextFile("Team11LastBlitz.txt");	
			}, 1000);
									

			//Count wins/losses
			var total_teams = 11;
			var wins = 0;
			if (retrieved_Team1_Results[retrieved_Team1_Results.length -1] ===  'W'){ wins++; };
			if (retrieved_Team2_Results[retrieved_Team2_Results.length -1] ===  'W'){ wins++; };
			if (retrieved_Team3_Results[retrieved_Team3_Results.length -1] ===  'W'){ wins++; };
			if (retrieved_Team4_Results[retrieved_Team4_Results.length -1] ===  'W'){ wins++; };
			if (retrieved_Team5_Results[retrieved_Team5_Results.length -1] ===  'W'){ wins++; };
			if (retrieved_Team6_Results[retrieved_Team6_Results.length -1] ===  'W'){ wins++; };
			if (retrieved_Team7_Results[retrieved_Team7_Results.length -1] ===  'W'){ wins++; };
			if (retrieved_Team8_Results[retrieved_Team8_Results.length -1] ===  'W'){ wins++; };
			if (retrieved_Team9_Results[retrieved_Team9_Results.length -1] ===  'W'){ wins++; };
			if (retrieved_Team10_Results[retrieved_Team10_Results.length -1] ===  'W'){ wins++; };
			if (retrieved_Team11_Results[retrieved_Team11_Results.length -1] ===  'W'){ wins++; };
			//console.log(wins);
			var losses = total_teams - wins;
			
		
			setTimeout(function(){ 
				var maincontent = document.getElementById("winss");
				maincontent.innerHTML = "Won: " +  "<span style='color: #28a745'>" + wins + "</span>" +", Lost : " + "<span style='color: #c82121'>" + losses + "</span>";
			}, 2000);
			
			
			setTimeout(function(){ 
				var thisBlitz = document.getElementById("ThisBlitz");
				thisBlitz.innerHTML = "Won: " +  "<span style='color: #28a745'>" + CurrentBattlesWon + "</span>" + " , Lost : " + "<span style='color: #c82121'>" + CurrentBattlesLost + "</span>" + " , " +  TotalBattlesBlitzRate + " <span style='font-size:1rem'>%</span>";
			}, 2000);


			//Reload page after function work done		
			window.onload = function() {
				if(!window.location.hash) {
					window.location = window.location + '#loaded';
					window.location.reload();
				}
			}
			
		</script>
		
		<script>
		setTimeout(function(){ 

		AmCharts.makeChart("chartdiv",
				{
					"dataProvider": [
						{
							"Teams": "Team 1" + "\n" + retrieved_Team1_Results[retrieved_Team1_Results.length -1] + "\n" + "Battles : " + retrieved_Team1_Results.replace(/\s/g, "").length + "\n" + "( W " + retrieved_Team1_Results.match(new RegExp('W','g')).length + " / L " + retrieved_Team1_Results.match(new RegExp('L','g')).length + " )" + "\n" + moment(Team_1_time*1000).fromNow(),
							"WinRate" : (Team1*100/(Team_1.split(" ").length)).toFixed(2),
							"Results" : Team_1
						},
						{
							"Teams": "Team 2" + "\n" + retrieved_Team2_Results[retrieved_Team2_Results.length -1] + "\n" + "Battles : " + retrieved_Team2_Results.replace(/\s/g, "").length + "\n" + "( W " + retrieved_Team2_Results.match(new RegExp('W','g')).length + " / L " + retrieved_Team2_Results.match(new RegExp('L','g')).length + " )" + "\n" + moment(Team_2_time*1000).fromNow(),
							"WinRate" : (Team2*100/(Team_2.split(" ").length)).toFixed(2),
							"Results" : Team_2
						},
						{
							"Teams": "Team 3" + "\n" + retrieved_Team3_Results[retrieved_Team3_Results.length -1] + "\n" + "Battles : " + retrieved_Team3_Results.replace(/\s/g, "").length + "\n" + "( W " + retrieved_Team3_Results.match(new RegExp('W','g')).length + " / L " + retrieved_Team3_Results.match(new RegExp('L','g')).length + " )" + "\n" + moment(Team_3_time*1000).fromNow(),
							"WinRate" : (Team3*100/(Team_3.split(" ").length)).toFixed(2),
							"Results" : Team_3
						},
						{
							"Teams": "Team 4" + "\n" + retrieved_Team4_Results[retrieved_Team4_Results.length -1] + "\n" + "Battles : " + retrieved_Team4_Results.replace(/\s/g, "").length + "\n" + "( W " + retrieved_Team4_Results.match(new RegExp('W','g')).length + " / L " + retrieved_Team4_Results.match(new RegExp('L','g')).length + " )" + "\n" + moment(Team_4_time*1000).fromNow(),
							"WinRate" : (Team4*100/(Team_4.split(" ").length)).toFixed(2),
							"Results" : Team_4
						},
						{
							"Teams": "Team 5" + "\n" + retrieved_Team5_Results[retrieved_Team5_Results.length -1] + "\n" + "Battles : " + retrieved_Team5_Results.replace(/\s/g, "").length + "\n" + "( W " + retrieved_Team5_Results.match(new RegExp('W','g')).length + " / L " + retrieved_Team5_Results.match(new RegExp('L','g')).length + " )" + "\n" + moment(Team_5_time*1000).fromNow(),
							"WinRate" : (Team5*100/(Team_5.split(" ").length )).toFixed(2),
							"Results" : Team_5
						},
						{
							"Teams": "Team 6" + "\n" + retrieved_Team6_Results[retrieved_Team6_Results.length -1] + "\n" + "Battles : " + retrieved_Team6_Results.replace(/\s/g, "").length + "\n" + "( W " + retrieved_Team6_Results.match(new RegExp('W','g')).length + " / L " + retrieved_Team6_Results.match(new RegExp('L','g')).length + " )" + "\n" + moment(Team_6_time*1000).fromNow(),
							"WinRate" : (Team6*100/(Team_6.split(" ").length )).toFixed(2),
							"Results" : Team_6
						},
						{
							"Teams": "Team 7" + "\n" + retrieved_Team7_Results[retrieved_Team7_Results.length -1] + "\n" + "Battles : " + retrieved_Team7_Results.replace(/\s/g, "").length + "\n" + "( W " + retrieved_Team7_Results.match(new RegExp('W','g')).length + " / L " + retrieved_Team7_Results.match(new RegExp('L','g')).length + " )" + "\n" + moment(Team_7_time*1000).fromNow(),
							"WinRate" : (Team7*100/(Team_7.split(" ").length )).toFixed(2),
							"Results" : Team_7
						},
						{
							"Teams": "Team 8" + "\n" + retrieved_Team8_Results[retrieved_Team8_Results.length -1] + "\n" + "Battles : " + retrieved_Team8_Results.replace(/\s/g, "").length + "\n" + "( W " + retrieved_Team8_Results.match(new RegExp('W','g')).length + " / L " + retrieved_Team8_Results.match(new RegExp('L','g')).length + " )" + "\n" + moment(Team_8_time*1000).fromNow(),
							"WinRate" : (Team8*100/(Team_8.split(" ").length )).toFixed(2),
							"Results" : Team_8
						},
						{
							"Teams": "Team 9" + "\n" + retrieved_Team9_Results[retrieved_Team9_Results.length -1] + "\n" + "Battles : " + retrieved_Team9_Results.replace(/\s/g, "").length + "\n" + "( W " + retrieved_Team9_Results.match(new RegExp('W','g')).length + " / L " + retrieved_Team9_Results.match(new RegExp('L','g')).length + " )"+ "\n" + moment(Team_9_time*1000).fromNow(),
							"WinRate" : (Team9*100/(Team_9.split(" ").length )).toFixed(2),
							"Results" : Team_9
						},
						{
							"Teams": "Team 10" + "\n" + retrieved_Team10_Results[retrieved_Team10_Results.length -1] + "\n" + "Battles : " + retrieved_Team10_Results.replace(/\s/g, "").length + "\n" + "( W " + retrieved_Team10_Results.match(new RegExp('W','g')).length + " / L " + retrieved_Team10_Results.match(new RegExp('L','g')).length + " )" + "\n" + moment(Team_10_time*1000).fromNow(),
							"WinRate" : (Team10*100/(Team_10.split(" ").length )).toFixed(2),
							"Results" : Team_10
						},
						{
							"Teams": "Team 11" + "\n" + retrieved_Team11_Results[retrieved_Team11_Results.length -1] + "\n" + "Battles : " + retrieved_Team11_Results.replace(/\s/g, "").length + "\n" + "( W " + retrieved_Team11_Results.match(new RegExp('W','g')).length + " / L " + retrieved_Team11_Results.match(new RegExp('L','g')).length + " )" + "\n" + moment(Team_11_time*1000).fromNow(),
							"WinRate" : (Team11*100/(Team_11.split(" ").length )).toFixed(2),
							"Results" : Team_11
						}
					],
					"type": "serial",
					"categoryField": "Teams", 
					"fontSize": 15,
					"columnSpacing": 12,
					"columnWidth": 0.53,
					"rotate": false,
					"startDuration": 1,
					"startEffect": "easeOutSine",
					"classNamePrefix": "msf",
					"creditsPosition": "top-right",
					"panEventsEnabled": false,
					"percentPrecision": 1,
					"theme": "light",
					"graphs": [
						{
							"title": "Blitz Live",
							"balloonText": "[[value]]% : [[Results]]",
							"fillAlphas": 1,
							"gapPeriod": 15,
							"id": "AmGraph-1",
							"tabIndex": 0,
							"title": "MSF",
							"type": "column",
							"valueField": "WinRate"
						}
					],
					//"depth3D": 5,
					//"angle": 15,
					"export": {
						"enabled": false
					},
					"valueAxes": [
						{
							"id": "ValueAxis-1",
							"position": "bottom",
							"title": "Live Blitz",
							"titleFontSize": 20,
							"maximum": 100,
							"minimum": 0
						}
					]
					<!-- ,"titles": [ -->
						<!-- { -->
							<!-- "id": "Live Blitz Statistics", -->
							<!-- "size": 25, -->
							<!-- "text": "Live Blitz Statistics" -->
						<!-- } -->
					<!-- ] -->
				}
			);
			
			AmCharts.makeChart("chartdiv1",
				{
					"dataProvider": [
						{
							"Teams": "Team 1" + "\n" + "Battles : " + Team_1_alltime.replace(/\s/g, "").length + "\n" + "( W " + Team_1_alltime.match(new RegExp('W','g')).length + " / L " + Team_1_alltime.match(new RegExp('L','g')).length + " )" + "\n" + ((Team_1_alltime.match(/W/gi).length)*100/(Team_1_alltime.split(" ").length)).toFixed(2) + " %",
							"WinRate" : ((Team_1_alltime.match(/W/gi).length)*100/(Team_1_alltime.split(" ").length)).toFixed(2),
							"Results" : Team_1_alltime
						},
						{
							"Teams": "Team 2" + "\n" + "Battles : " + Team_2_alltime.replace(/\s/g, "").length + "\n" + "( W " + Team_2_alltime.match(new RegExp('W','g')).length + " / L " + Team_2_alltime.match(new RegExp('L','g')).length + " )" + "\n" + ((Team_2_alltime.match(/W/gi).length)*100/(Team_2_alltime.split(" ").length)).toFixed(2) + " %",
							"WinRate" : ((Team_2_alltime.match(/W/gi).length)*100/(Team_2_alltime.split(" ").length)).toFixed(2),
							"Results" : Team_2_alltime
						},
						{
							"Teams": "Team 3" + "\n" + "Battles : " + Team_3_alltime.replace(/\s/g, "").length + "\n" + "( W " + Team_3_alltime.match(new RegExp('W','g')).length + " / L " + Team_3_alltime.match(new RegExp('L','g')).length + " )" + "\n" + ((Team_3_alltime.match(/W/gi).length)*100/(Team_3_alltime.split(" ").length)).toFixed(2) + " %",
							"WinRate" : ((Team_3_alltime.match(/W/gi).length)*100/(Team_3_alltime.split(" ").length)).toFixed(2),
							"Results" : Team_3_alltime
						},
						{
							"Teams": "Team 4" + "\n" + "Battles : " + Team_4_alltime.replace(/\s/g, "").length + "\n" + "( W " + Team_4_alltime.match(new RegExp('W','g')).length + " / L " + Team_4_alltime.match(new RegExp('L','g')).length + " )" + "\n" + ((Team_4_alltime.match(/W/gi).length)*100/(Team_4_alltime.split(" ").length)).toFixed(2) + " %",
							"WinRate" : ((Team_4_alltime.match(/W/gi).length)*100/(Team_4_alltime.split(" ").length)).toFixed(2),
							"Results" : Team_4_alltime
						},
						{
							"Teams": "Team 5" + "\n" + "Battles : " + Team_5_alltime.replace(/\s/g, "").length + "\n" + "( W " + Team_5_alltime.match(new RegExp('W','g')).length + " / L " + Team_5_alltime.match(new RegExp('L','g')).length + " )" + "\n" + ((Team_5_alltime.match(/W/gi).length)*100/(Team_5_alltime.split(" ").length)).toFixed(2) + " %",
							"WinRate" : ((Team_5_alltime.match(/W/gi).length)*100/(Team_5_alltime.split(" ").length)).toFixed(2),
							"Results" : Team_5_alltime
						},
						{
							"Teams": "Team 6" + "\n" + "Battles : " + Team_6_alltime.replace(/\s/g, "").length + "\n" + "( W " + Team_6_alltime.match(new RegExp('W','g')).length + " / L " + Team_6_alltime.match(new RegExp('L','g')).length + " )" + "\n" + ((Team_6_alltime.match(/W/gi).length)*100/(Team_6_alltime.split(" ").length)).toFixed(2) + " %",
							"WinRate" : ((Team_6_alltime.match(/W/gi).length)*100/(Team_6_alltime.split(" ").length)).toFixed(2),
							"Results" : Team_6_alltime
						},
						{
							"Teams": "Team 7" + "\n" + "Battles : " + Team_7_alltime.replace(/\s/g, "").length + "\n" + "( W " + Team_7_alltime.match(new RegExp('W','g')).length + " / L " + Team_7_alltime.match(new RegExp('L','g')).length + " )" + "\n" + ((Team_7_alltime.match(/W/gi).length)*100/(Team_7_alltime.split(" ").length)).toFixed(2) + " %",
							"WinRate" : ((Team_7_alltime.match(/W/gi).length)*100/(Team_7_alltime.split(" ").length)).toFixed(2),
							"Results" : Team_7_alltime
						},
						{
							"Teams": "Team 8" + "\n" + "Battles : " + Team_8_alltime.replace(/\s/g, "").length + "\n" + "( W " + Team_8_alltime.match(new RegExp('W','g')).length + " / L " + Team_8_alltime.match(new RegExp('L','g')).length + " )" + "\n" + ((Team_8_alltime.match(/W/gi).length)*100/(Team_8_alltime.split(" ").length)).toFixed(2) + " %",
							"WinRate" : ((Team_8_alltime.match(/W/gi).length)*100/(Team_8_alltime.split(" ").length)).toFixed(2),
							"Results" : Team_8_alltime
						},
						{
							"Teams": "Team 9" + "\n" + "Battles : " + Team_9_alltime.replace(/\s/g, "").length + "\n" + "( W " + Team_9_alltime.match(new RegExp('W','g')).length + " / L " + Team_9_alltime.match(new RegExp('L','g')).length + " )" + "\n" + ((Team_9_alltime.match(/W/gi).length)*100/(Team_9_alltime.split(" ").length)).toFixed(2) + " %",
							"WinRate" : ((Team_9_alltime.match(/W/gi).length)*100/(Team_9_alltime.split(" ").length)).toFixed(2),
							"Results" : Team_9_alltime
						},
						{
							"Teams": "Team 10" + "\n" + "Battles : " + Team_10_alltime.replace(/\s/g, "").length + "\n" + "( W " + Team_10_alltime.match(new RegExp('W','g')).length + " / L " + Team_10_alltime.match(new RegExp('L','g')).length + " )" + "\n" + ((Team_10_alltime.match(/W/gi).length)*100/(Team_10_alltime.split(" ").length)).toFixed(2) + " %",
							"WinRate" : ((Team_10_alltime.match(/W/gi).length)*100/(Team_10_alltime.split(" ").length)).toFixed(2),
							"Results" : Team_10_alltime
						},
						{
							"Teams": "Team 11" + "\n" + "Battles : " + Team_11_alltime.replace(/\s/g, "").length + "\n" + "( W " + Team_11_alltime.match(new RegExp('W','g')).length + " / L " + Team_11_alltime.match(new RegExp('L','g')).length + " )" + "\n" + ((Team_11_alltime.match(/W/gi).length)*100/(Team_11_alltime.split(" ").length)).toFixed(2) + " %",
							"WinRate" : ((Team_11_alltime.match(/W/gi).length)*100/(Team_11_alltime.split(" ").length)).toFixed(2),
							"Results" : Team_11_alltime
						},
					],
					"type": "serial",
					"categoryField": "Teams", 
					"fontSize": 15,
					"columnSpacing": 12,
					"columnWidth": 0.53,
					"rotate": false,
					"startDuration": 1,
					"startEffect": "easeOutSine",
					"classNamePrefix": "msf",
					"creditsPosition": "top-right",
					"panEventsEnabled": false,
					"percentPrecision": 1,
					"theme": "none",
					"graphs": [
						{
							"title": "Blitz Live",
							"balloonText": "[[value]]% : [[Results]]",
							"fillAlphas": 1,
							"gapPeriod": 15,
							"id": "AmGraph-2",
							"tabIndex": 0,
							"title": "MSF",
							"type": "column",
							"valueField": "WinRate"
						}
					],
					//"depth3D": 5,
					//"angle": 15,
					"export": {
						"enabled": false
					},
					"valueAxes": [
						{
							"id": "ValueAxis-1",
							"position": "bottom",
							"title": "All Blitz",
							"titleFontSize": 20,
							"maximum": 100,
							"minimum": 0
						}
					]
					<!-- ,"titles": [ -->
						<!-- { -->
							<!-- "id": "Blitz Statistics", -->
							<!-- "size": 25, -->
							<!-- "text": "Blitz All Statistics" -->
						<!-- } -->
					<!-- ] -->
				}
			);
					
			
		}, 3000);
		</script>
	</head>
	<body>
		
        <div class="stats" style="text-align:center; margin-bottom: 0rem; margin-top: 2rem;">

		  <div class="stat">
			<h4>Updated at</h4>
			<p><span id="stamp">---</span><span><sup></sup></span></p>
		  </div>
		  <div class="stat">
			<h4>Next Blitz</h4>
			<p><span id="timer">---</span><span><sup id="new" style="color: red; font-weight:300"></sup></span></p>
		  </div>
		  
		</div>
		
		<div id="chartdiv" style="width: 100%; height: 35vh; background-color: #FFFFFF;"></div>
	
		<div style="text-align: center; margin-top: 10px; width: 100%; margin-bottom: 0rem;" class="stats">

		  <div class="stat">
			<h4>Last Round</h4>
			<p id="winss">---</p>
		  </div>
		 
		 <div class="stat">
			<h4>Current Blitz</h4>
			<p id="ThisBlitz">---</p>
		  </div>

		</div>
		
		<div id="chartdiv1" style="width: 100%; height: 35vh; background-color: #FFFFFF;"></div>
		

		<div style="text-align: center; margin-top: 0px; margin-bottom: 0px; width: 100%;" class="stats">

		  <div class="stat">
			<h4>Total Battles</h4>
			<p id="totalblitz">---</p>
		  </div>
		  <div class="stat">
			<h4>Win Rate</h4>
			<p id="wr">---</p>
		  </div>
		  <div class="stat">
			<h4>Results</h4>
			<p id="wl">---</p>
		  </div>
		  
		</div>
		

	</body>
</html>